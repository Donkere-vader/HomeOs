<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- STYLE -->
    <link rel="stylesheet" href="../../../../../static/css/style.css">
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> 

    <!-- SCRIPTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../../../../static/js/server.js"></script>

    <title>HomeOs</title>
</head>
<body>
    <header>
        <nav>
            <h1><a class="no-link" href="../../../../">Home Os</a></h1>
            <ul class="desktop-menu">
                <li><a href="../../../../">Devices</a></li>
                <li><a href="../../../../programs">Programs</a></li>
                {% if current_user.admin %}
                <li><a href="../../../../admin">Admin</a></li>
                <li><a href="../../../../new_user">New user</a></li>
                {% endif %}
            </ul>
            <ul class="desktop-menu">
                <li><a href="../../../../logout">Logout</a></li>
            </ul>
            <div class="hamburger-icon-container" onclick="toggle_menu()">
                <img class="hamburger-icon" src="../../../../static/media/icons/hamburger_menu.svg" alt="">
            </div>
        </nav>
    </header>

    {% block content %}
    {% endblock content %}

    <div id="mobile-menu" class="card edge">
        <ul>
            <li><a href="../../../../">Devices</a></li>
            <li><a href="../../../../programs">Programs</a></li>
            {% if current_user.admin %}
            <li><a href="../../../../admin">Admin</a></li>
            <li><a href="../../../../new_user">New user</a></li>
            {% endif %}
        </ul>
        <div style="height: 20px;"></div>
        <hr>
        <ul>
            <li><a href="../../../../logout">Logout</a></li>
        </ul>
    </div>

    <div id="error-message-popup">
        <span id="error-message"></span>
    </div>

    <script>
        $("#error-message-popup").hide();

        function show_error(message) {
            $("#error-message").html(message);
            $("#error-message-popup").fadeIn().delay(5000).fadeOut();
        }

        // MENU
        var showing_menu = false;

        function toggle_menu() {
            showing_menu = !showing_menu;
            var menu = $("#mobile-menu");

            if (showing_menu) {
                menu.fadeIn();
            } else {
                menu.fadeOut();
            }
        }
    </script>
</body>
</html>
